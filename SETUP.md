# Setup Guide

## Prerequisites

1. **Node.js** (v18 or higher)
2. **FFmpeg** - Required for video generation
   - macOS: `brew install ffmpeg`
   - Windows: Download from https://ffmpeg.org/download.html
   - Linux: `sudo apt install ffmpeg`

3. **OpenAI API Key**
   - Get from https://platform.openai.com/api-keys
   - Add funds to your account for API usage

4. **YouTube API Credentials**
   - Go to [Google Cloud Console](https://console.cloud.google.com/)
   - Create a new project
   - Enable YouTube Data API v3
   - Create OAuth 2.0 credentials
   - Set authorized redirect URI: `http://localhost:3000/auth/youtube/callback`

## Installation

1. Install backend dependencies:
```bash
npm install
```

2. Install frontend dependencies:
```bash
cd client
npm install
cd ..
```

## Configuration

1. Copy `.env.example` to `.env`:
```bash
cp .env.example .env
```

2. Fill in your `.env` file:
```env
OPENAI_API_KEY=sk-your-key-here
YOUTUBE_CLIENT_ID=your-client-id
YOUTUBE_CLIENT_SECRET=your-client-secret
YOUTUBE_REDIRECT_URI=http://localhost:3000/auth/youtube/callback
YOUTUBE_REFRESH_TOKEN=your-refresh-token
```

## YouTube OAuth Setup

To get your YouTube refresh token:

1. Run the OAuth helper script:
```bash
npm run setup:youtube
```

Or manually:

1. Visit the authorization URL (generated by the script)
2. Authorize the application
3. Copy the code from the redirect URL
4. Exchange it for a refresh token

The refresh token will be saved to your `.env` file.

## Running the Application

1. Start both backend and frontend:
```bash
npm run dev
```

2. Or start them separately:
```bash
# Terminal 1 - Backend
npm run dev:server

# Terminal 2 - Frontend
npm run dev:client
```

3. Open http://localhost:5174 in your browser

## Usage

1. Click the "Create Video" button
2. The bot will:
   - Scrape latest crypto news (last 6 hours)
   - Identify top 3-4 trending topics
   - Generate script with "Crypto B" personality
   - Create video with avatar and audio
   - Generate thumbnail
   - Upload to YouTube

## Troubleshooting

### FFmpeg not found
- Make sure FFmpeg is installed and in your PATH
- Verify with: `ffmpeg -version`

### Canvas errors
- On macOS, you may need: `brew install pkg-config cairo pango libpng jpeg giflib librsvg`

### YouTube upload fails
- Check your OAuth credentials
- Ensure YouTube Data API v3 is enabled
- Verify refresh token is valid

### OpenAI API errors
- Check your API key is correct
- Ensure you have sufficient credits
- Check rate limits

## Production Deployment

For production:

1. Build the application:
```bash
npm run build
```

2. Set environment variables on your hosting platform

3. Start the server:
```bash
npm start
```

4. Serve the frontend build from a static file server or CDN

